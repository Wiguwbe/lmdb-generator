
table player {
	id ID PK,
	name CHAR(64),
	balance INT
}

index(location) player_airport {
	player_id
}

index(endpoint) player_endpoint {
	player_id
}

index(airplane) player_airplane {
	player_id
}

table location {
	id ID PK,
	player_id ID FK(player.id),
	sale_id ID FK(sale.id),
	name CHAR(16),
	airport_level INT
}

index(endpoint) airport_endpoint {
	location_id
}
	
index(contract) airport_contract {
	airport_id
}

table endpoint {
	id ID PK,
	player_id ID FK(player.id),
	location_id ID FK(location.id),
	contract_id ID FK(contract.id)
}

table airplane {
	id ID PK,
	player_id ID FK(player.id),
	endpoint_from_id ID FK(endpoint.id),
	endpoint_to_id ID FK(endpoint.id),
	cost INT,
	price INT
}

table sale {
	id ID PK,
	seller_id ID FK(player.id),
	airport_id ID FK(location.id),
	buyer_id ID FK(player.id),
	price INT,
	bought_at INT
}

table contract {
	id ID PK,
	seller_id ID FK(player.id),
	endpoint_id ID FK(endpoint.id),
	airport_id ID FK(location.id),
	buyer_id ID FK(player.id),
	price INT,
	bought_at INT,
	duration INT
}
